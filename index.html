<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora de Coletores Solares</title>
    <style>
        body {
            font-family: 'Roboto', sans-serif;
            background-color: #f0f8ff; /* Azul claro */
            color: #2c3e50; /* Azul escuro */
            margin: 0;
            padding: 0;
            line-height: 1.6;
        }

        header {
            background-color: #1a5276; /* Azul escuro */
            color: white;
            padding: 20px 0;
            text-align: center;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        header h1 {
            margin: 0;
            font-size: 2.5rem;
            font-weight: 700;
        }

        nav {
            margin-top: 10px;
        }

        nav a {
            color: white;
            text-decoration: none;
            margin: 0 15px;
            font-weight: 500;
            transition: color 0.3s ease;
        }

        nav a:hover {
            color: #2ecc71; /* Verde */
        }

        .container {
            max-width: 600px;
            margin: 20px auto;
            padding: 20px;
            background-color: white;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
            border-radius: 15px;
            border: 1px solid #e0e0e0;
        }

        h2 {
            margin-top: 0;
            font-size: 1.8rem;
            color: #1a5276; /* Azul escuro */
        }

        label {
            display: block;
            margin: 10px 0 5px;
            font-weight: 500;
            color: #2c3e50; /* Azul escuro */
        }

        input, select, textarea, button {
            width: 100%;
            padding: 12px;
            margin-bottom: 15px;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1rem;
            background-color: white;
            color: #2c3e50; /* Azul escuro */
            transition: border-color 0.3s ease, box-shadow 0.3s ease;
        }

        input:focus, select:focus, textarea:focus {
            border-color: #1a5276; /* Azul escuro */
            box-shadow: 0 0 10px rgba(26, 82, 118, 0.2);
            outline: none;
        }

        button {
            background-color: #2ecc71; /* Verde */
            color: white;
            border: none;
            cursor: pointer;
            font-weight: 500;
            border-radius: 8px;
            transition: background-color 0.3s ease, box-shadow 0.3s ease;
        }

        button:hover {
            background-color: #27ae60; /* Verde mais escuro */
            box-shadow: 0 0 15px rgba(46, 204, 113, 0.3);
        }

        .radio-group label {
            display: inline-block;
            margin-right: 15px;
            color: #2c3e50; /* Azul escuro */
        }

        .radio-group input[type="radio"] {
            margin-right: 5px;
        }

        .info {
            font-size: 0.9rem;
            color: #7f8c8d; /* Cinza */
            text-align: center;
            margin-bottom: 20px;
        }

        footer {
            text-align: center;
            padding: 15px;
            background-color: #1a5276; /* Azul escuro */
            color: white;
            margin-top: 20px;
            box-shadow: 0 -4px 15px rgba(0, 0, 0, 0.1);
        }

        .creditos {
            font-size: 0.8rem;
            margin: 0;
            color: #ecf0f1; /* Cinza claro */
        }
    </style>
</head>
<body>
    <header>
        <h1>Calculadora de Coletores Solares</h1>
        <nav>
            <a href="/">Sistema</a>
            <a href="/contato">Contato</a>
        </nav>
    </header>

    <main>
        <div class="container">
            <h2>Calcule o número de coletores solares necessários</h2>
            <p class="info">Todos os cálculos são estimados. Consulte sempre o manual da empresa antes de realizar a compra.</p>
            <form id="calculadoraForm">
                <label for="empresa">Escolha a empresa:</label>
                <select id="empresa" name="empresa">
                    <option value="KOMECO">KOMECO</option>
                    <option value="Solis">Solis</option>
                    <option value="Mastersol">Mastersol</option>
                    <option value="Girassol">Girassol</option>
                    <option value="Soria">Soria</option>
                    <option value="Tempersol">Tempersol</option>
                    <option value="TS-Solar">TS-Solar</option>
                </select>

                <label for="modelo">Escolha o modelo (se aplicável):</label>
                <select id="modelo" name="modelo">
                    <option value="">-- Selecione --</option>
                </select>

                <label>Método de cálculo:</label>
                <div class="radio-group">
                    <label><input type="radio" name="metodo" value="Litragem" checked> Litragem</label>
                    <label><input type="radio" name="metodo" value="Área"> Área (m²)</label>
                </div>

                <div id="litrosInput">
                    <label for="litros">Litragem da piscina (litros):</label>
                    <input type="number" id="litros" name="litros">
                </div>

                <div id="areaInput" style="display: none;">
                    <label for="comprimento">Comprimento da piscina (m):</label>
                    <input type="number" id="comprimento" name="comprimento">

                    <label for="largura">Largura da piscina (m):</label>
                    <input type="number" id="largura" name="largura">

                    <p id="areaCalculada">Área calculada: </p>
                </div>

                <label>Ajuste de 30% (prainha/cascata/região fria)?</label>
                <div class="radio-group">
                    <label><input type="radio" name="ajuste" value="Sim"> Sim</label>
                    <label><input type="radio" name="ajuste" value="Não" checked> Não</label>
                </div>

                <button type="button" onclick="calcularColetores()">Calcular Coletores</button>
            </form>
        </div>
    </main>

    <footer>
        <p class="creditos">Desenvolvido por Felipe Indejejczak ❤️</p>
    </footer>

    <script>
        const empresas = {
            "KOMECO": { "modelos": { "KOCS PS 2.0": 2.4, "KOCS PS 3.0": 3.6, "KOCS PS 4.0": 4.8 } },
            "Solis": { "capacidade_por_coletor": 4000 },
            "Mastersol": { "modelos": { "Mastersol 2000": 1.2, "Mastersol 3000": 1.5, "Mastersol 3700": 1.8, "Mastersol 4500": 2.0, "Mastersol 5000": 2.5 } },
            "Girassol": { "capacidade_por_coletor": 4000 },
            "Soria": { "modelos": { "Urja 200": 0.64, "Urja 300": 0.96, "Urja 400": 1.18, "Urja 500": 1.44, "Urja 5000": 6.0 } },
            "Tempersol": { "modelos": { "Pool 200": 1.0, "Pool 300": 1.5, "Pool 400": 2.0 } },
            "TS-Solar": { "modelos": { "2m x 0,30m": 0.6, "3m x 0,30m": 0.9, "3,70m x 0,30m": 1.11, "4m x 0,30m": 1.2, "5m x 0,30m": 1.5 } }
        };

        document.getElementById('empresa').addEventListener('change', function () {
            const empresa = this.value;
            const modeloSelect = document.getElementById('modelo');
            modeloSelect.innerHTML = '<option value="">-- Selecione --</option>';

            if (empresas[empresa] && empresas[empresa].modelos) {
                Object.keys(empresas[empresa].modelos).forEach(modelo => {
                    modeloSelect.innerHTML += `<option value="${modelo}">${modelo}</option>`;
                });
            }
        });

        document.querySelectorAll('input[name="metodo"]').forEach(radio => {
            radio.addEventListener('change', function () {
                if (this.value === "Litragem") {
                    document.getElementById('litrosInput').style.display = 'block';
                    document.getElementById('areaInput').style.display = 'none';
                } else {
                    document.getElementById('litrosInput').style.display = 'none';
                    document.getElementById('areaInput').style.display = 'block';
                }
            });
        });

        function calcularColetores() {
            const empresa = document.getElementById('empresa').value;
            const metodo = document.querySelector('input[name="metodo"]:checked').value;
            const ajuste = document.querySelector('input[name="ajuste"]:checked').value;

            let numColetores;

            if (metodo === "Litragem") {
                const litros = parseFloat(document.getElementById('litros').value);
                if (empresas[empresa].capacidade_por_coletor) {
                    numColetores = litros / empresas[empresa].capacidade_por_coletor;
                } else {
                    alert("Esta empresa não suporta cálculo por litragem!");
                    return;
                }
            } else {
                const comprimento = parseFloat(document.getElementById('comprimento').value);
                const largura = parseFloat(document.getElementById('largura').value);
                const area = comprimento * largura;
                document.getElementById('areaCalculada').innerText = `Área calculada: ${area.toFixed(2)} m²`;

                const modelo = document.getElementById('modelo').value;
                if (!empresas[empresa].modelos || !empresas[empresa].modelos[modelo]) {
                    alert("Modelo não encontrado!");
                    return;
                }
                numColetores = area / empresas[empresa].modelos[modelo];
            }

            if (ajuste === "Sim") {
                numColetores *= 1.3;
            }

            numColetores = Math.ceil(numColetores);
            alert(`Número de coletores necessários: ${numColetores}`);
        }
    </script>
</body>
</html>